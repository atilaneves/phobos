
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2015 by Digital Mars
    All Rights Reserved Written by Walter Bright
    http://digitalmars.com
  -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>std.utf - D Programming Language</title>
<link rel="stylesheet" href="../css/codemirror.css" />
<link rel="stylesheet" href="../css/style.css" />
<link rel="stylesheet" href="../css/print.css" media="print" />
<link rel="stylesheet" href="../css/cssmenu.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="shortcut icon" href="../favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0" />
</head>
<body id='std.utf' class='std'>
<script type="text/javascript">document.body.className += ' have-javascript';</script>
<div id="top">	<div id="header">		<a class="logo" href=".."><img id="logo" width="125" height="95" alt="D Logo" src="../images/dlogo.svg"></a>
		<span id="d-language-mobilehelper"><a href=".." id="d-language">D Programming Language</a></span>
	</div>
</div>
<div id="navigation">    <div id="search-box">        <form method="get" action="http://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org" />
            <input type="hidden" id="sourceid" name="sourceid" value="google-search" />
            <span id="search-query"><input id="q" name="q" placeholder="Search" tabindex="1000" /></span><span id="search-dropdown">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire D Site</option>
                    <option selected value="dlang.org/phobos">Library Reference</option>
                    <option value="digitalmars.com/d/archives">Newsgroup Archives</option>
                </select>
            </span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    
<div id="cssmenu"><ul>    <li><a href='../index.html'><span>D Lib Prerelease</span></a></li>
    <li><a href='../phobos/index.html'><span>Current Release (2.067.1)</span></a></li>
    
<li><a href='object.html'><span><em class="tt">object</em></span></a></li>
<li class='has-sub'><a href='#'><span><em class="tt">std</em></span></a>
<ul><li>  <a href="std_algorithm.html" title="std.algorithm"><span class="d_inlinecode donthyphenate notranslate">algorithm</span></a><ul><li>    <a href="std_algorithm_comparison.html" title="std.algorithm.comparison"><span class="d_inlinecode donthyphenate notranslate">comparison</span></a></li><li>    <a href="std_algorithm_iteration.html" title="std.algorithm.iteration"><span class="d_inlinecode donthyphenate notranslate">iteration</span></a></li><li>    <a href="std_algorithm_mutation.html" title="std.algorithm.mutation"><span class="d_inlinecode donthyphenate notranslate">mutation</span></a></li><li>    <a href="std_algorithm_searching.html" title="std.algorithm.searching"><span class="d_inlinecode donthyphenate notranslate">searching</span></a></li><li>    <a href="std_algorithm_setops.html" title="std.algorithm.setops"><span class="d_inlinecode donthyphenate notranslate">setops</span></a></li><li>    <a href="std_algorithm_sorting.html" title="std.algorithm.sorting"><span class="d_inlinecode donthyphenate notranslate">sorting</span></a>
  </li></ul></li><li>  <a href="std_array.html" title="std.array"><span class="d_inlinecode donthyphenate notranslate">array</span></a></li><li>  <a href="std_ascii.html" title="std.ascii"><span class="d_inlinecode donthyphenate notranslate">ascii</span></a></li><li>  <a href="std_base64.html" title="std.base64"><span class="d_inlinecode donthyphenate notranslate">base64</span></a></li><li>  <a href="std_bigint.html" title="std.bigint"><span class="d_inlinecode donthyphenate notranslate">bigint</span></a></li><li>  <a href="std_bitmanip.html" title="std.bitmanip"><span class="d_inlinecode donthyphenate notranslate">bitmanip</span></a></li><li>  <a href="std_compiler.html" title="std.compiler"><span class="d_inlinecode donthyphenate notranslate">compiler</span></a></li><li>  <a href="std_complex.html" title="std.complex"><span class="d_inlinecode donthyphenate notranslate">complex</span></a></li><li>  <a href="std_concurrency.html" title="std.concurrency"><span class="d_inlinecode donthyphenate notranslate">concurrency</span></a></li><li>  <a href="std_container.html" title="std.container"><span class="d_inlinecode donthyphenate notranslate">container</span></a><ul><li>    <a href="std_container_array.html" title="std.container.array"><span class="d_inlinecode donthyphenate notranslate">array</span></a></li><li>    <a href="std_container_binaryheap.html" title="std.container.binaryheap"><span class="d_inlinecode donthyphenate notranslate">binaryheap</span></a></li><li>    <a href="std_container_dlist.html" title="std.container.dlist"><span class="d_inlinecode donthyphenate notranslate">dlist</span></a></li><li>    <a href="std_container_rbtree.html" title="std.container.rbtree"><span class="d_inlinecode donthyphenate notranslate">rbtree</span></a></li><li>    <a href="std_container_slist.html" title="std.container.slist"><span class="d_inlinecode donthyphenate notranslate">slist</span></a></li><li>    <a href="std_container_util.html" title="std.container.util"><span class="d_inlinecode donthyphenate notranslate">util</span></a>
  </li></ul></li><li>  <a href="std_conv.html" title="std.conv"><span class="d_inlinecode donthyphenate notranslate">conv</span></a></li><li>  <a href="std_cstream.html" title="std.cstream"><span class="d_inlinecode donthyphenate notranslate">cstream</span></a></li><li>  <a href="std_csv.html" title="std.csv"><span class="d_inlinecode donthyphenate notranslate">csv</span></a></li><li>  <a href="std_datetime.html" title="std.datetime"><span class="d_inlinecode donthyphenate notranslate">datetime</span></a></li><li>  <a href="std_demangle.html" title="std.demangle"><span class="d_inlinecode donthyphenate notranslate">demangle</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">digest</span></h7><ul><li>    <a href="std_digest_crc.html" title="std.digest.crc"><span class="d_inlinecode donthyphenate notranslate">crc</span></a></li><li>    <a href="std_digest_digest.html" title="std.digest.digest"><span class="d_inlinecode donthyphenate notranslate">digest</span></a></li><li>    <a href="std_digest_md.html" title="std.digest.md"><span class="d_inlinecode donthyphenate notranslate">md</span></a></li><li>    <a href="std_digest_ripemd.html" title="std.digest.ripemd"><span class="d_inlinecode donthyphenate notranslate">ripemd</span></a></li><li>    <a href="std_digest_sha.html" title="std.digest.sha"><span class="d_inlinecode donthyphenate notranslate">sha</span></a>
  </li></ul></li><li>  <a href="std_encoding.html" title="std.encoding"><span class="d_inlinecode donthyphenate notranslate">encoding</span></a></li><li>  <a href="std_exception.html" title="std.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">experimental</span></h7><ul><li>    <a href="std_experimental_logger.html" title="std.experimental.logger"><span class="d_inlinecode donthyphenate notranslate">logger</span></a><ul><li>      <a href="std_experimental_logger_core.html" title="std.experimental.logger.core"><span class="d_inlinecode donthyphenate notranslate">core</span></a></li><li>      <a href="std_experimental_logger_filelogger.html" title="std.experimental.logger.filelogger"><span class="d_inlinecode donthyphenate notranslate">filelogger</span></a></li><li>      <a href="std_experimental_logger_multilogger.html" title="std.experimental.logger.multilogger"><span class="d_inlinecode donthyphenate notranslate">multilogger</span></a></li><li>      <a href="std_experimental_logger_nulllogger.html" title="std.experimental.logger.nulllogger"><span class="d_inlinecode donthyphenate notranslate">nulllogger</span></a>
    </li></ul></li><li>    <a href="std_experimental_testing.html" title="std.experimental.testing"><span class="d_inlinecode donthyphenate notranslate">testing</span></a><ul><li>      <a href="std_experimental_testing_attrs.html" title="std.experimental.testing.attrs"><span class="d_inlinecode donthyphenate notranslate">attrs</span></a></li><li>      <a href="std_experimental_testing_io.html" title="std.experimental.testing.io"><span class="d_inlinecode donthyphenate notranslate">io</span></a></li><li>      <a href="std_experimental_testing_options.html" title="std.experimental.testing.options"><span class="d_inlinecode donthyphenate notranslate">options</span></a></li><li>      <a href="std_experimental_testing_reflection.html" title="std.experimental.testing.reflection"><span class="d_inlinecode donthyphenate notranslate">reflection</span></a></li><li>      <a href="std_experimental_testing_runner.html" title="std.experimental.testing.runner"><span class="d_inlinecode donthyphenate notranslate">runner</span></a></li><li>      <a href="std_experimental_testing_should.html" title="std.experimental.testing.should"><span class="d_inlinecode donthyphenate notranslate">should</span></a></li><li>      <a href="std_experimental_testing_testcase.html" title="std.experimental.testing.testcase"><span class="d_inlinecode donthyphenate notranslate">testcase</span></a></li><li>      <h7><span class="d_inlinecode donthyphenate notranslate">tests</span></h7><ul><li>        <a href="std_experimental_testing_tests_module_with_attrs.html" title="std.experimental.testing.tests.module_with_attrs"><span class="d_inlinecode donthyphenate notranslate">module_with_attrs</span></a>
      </li></ul></li><li>      <a href="std_experimental_testing_testsuite.html" title="std.experimental.testing.testsuite"><span class="d_inlinecode donthyphenate notranslate">testsuite</span></a></li><li>      <a href="std_experimental_testing_uda.html" title="std.experimental.testing.uda"><span class="d_inlinecode donthyphenate notranslate">uda</span></a>
    </li></ul>
  </li></ul></li><li>  <a href="std_file.html" title="std.file"><span class="d_inlinecode donthyphenate notranslate">file</span></a></li><li>  <a href="std_format.html" title="std.format"><span class="d_inlinecode donthyphenate notranslate">format</span></a></li><li>  <a href="std_functional.html" title="std.functional"><span class="d_inlinecode donthyphenate notranslate">functional</span></a></li><li>  <a href="std_getopt.html" title="std.getopt"><span class="d_inlinecode donthyphenate notranslate">getopt</span></a></li><li>  <a href="std_json.html" title="std.json"><span class="d_inlinecode donthyphenate notranslate">json</span></a></li><li>  <a href="std_math.html" title="std.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>  <a href="std_mathspecial.html" title="std.mathspecial"><span class="d_inlinecode donthyphenate notranslate">mathspecial</span></a></li><li>  <a href="std_metastrings.html" title="std.metastrings"><span class="d_inlinecode donthyphenate notranslate">metastrings</span></a></li><li>  <a href="std_mmfile.html" title="std.mmfile"><span class="d_inlinecode donthyphenate notranslate">mmfile</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">net</span></h7><ul><li>    <a href="std_net_curl.html" title="std.net.curl"><span class="d_inlinecode donthyphenate notranslate">curl</span></a></li><li>    <a href="std_net_isemail.html" title="std.net.isemail"><span class="d_inlinecode donthyphenate notranslate">isemail</span></a>
  </li></ul></li><li>  <a href="std_numeric.html" title="std.numeric"><span class="d_inlinecode donthyphenate notranslate">numeric</span></a></li><li>  <a href="std_outbuffer.html" title="std.outbuffer"><span class="d_inlinecode donthyphenate notranslate">outbuffer</span></a></li><li>  <a href="std_parallelism.html" title="std.parallelism"><span class="d_inlinecode donthyphenate notranslate">parallelism</span></a></li><li>  <a href="std_path.html" title="std.path"><span class="d_inlinecode donthyphenate notranslate">path</span></a></li><li>  <a href="std_process.html" title="std.process"><span class="d_inlinecode donthyphenate notranslate">process</span></a></li><li>  <a href="std_random.html" title="std.random"><span class="d_inlinecode donthyphenate notranslate">random</span></a></li><li>  <a href="std_range.html" title="std.range"><span class="d_inlinecode donthyphenate notranslate">range</span></a><ul><li>    <a href="std_range_interfaces.html" title="std.range.interfaces"><span class="d_inlinecode donthyphenate notranslate">interfaces</span></a></li><li>    <a href="std_range_primitives.html" title="std.range.primitives"><span class="d_inlinecode donthyphenate notranslate">primitives</span></a>
  </li></ul></li><li>  <a href="std_regex.html" title="std.regex"><span class="d_inlinecode donthyphenate notranslate">regex</span></a></li><li>  <a href="std_signals.html" title="std.signals"><span class="d_inlinecode donthyphenate notranslate">signals</span></a></li><li>  <a href="std_socket.html" title="std.socket"><span class="d_inlinecode donthyphenate notranslate">socket</span></a></li><li>  <a href="std_socketstream.html" title="std.socketstream"><span class="d_inlinecode donthyphenate notranslate">socketstream</span></a></li><li>  <a href="std_stdint.html" title="std.stdint"><span class="d_inlinecode donthyphenate notranslate">stdint</span></a></li><li>  <a href="std_stdio.html" title="std.stdio"><span class="d_inlinecode donthyphenate notranslate">stdio</span></a></li><li>  <a href="std_stdiobase.html" title="std.stdiobase"><span class="d_inlinecode donthyphenate notranslate">stdiobase</span></a></li><li>  <a href="std_stream.html" title="std.stream"><span class="d_inlinecode donthyphenate notranslate">stream</span></a></li><li>  <a href="std_string.html" title="std.string"><span class="d_inlinecode donthyphenate notranslate">string</span></a></li><li>  <a href="std_syserror.html" title="std.syserror"><span class="d_inlinecode donthyphenate notranslate">syserror</span></a></li><li>  <a href="std_system.html" title="std.system"><span class="d_inlinecode donthyphenate notranslate">system</span></a></li><li>  <a href="std_traits.html" title="std.traits"><span class="d_inlinecode donthyphenate notranslate">traits</span></a></li><li>  <a href="std_typecons.html" title="std.typecons"><span class="d_inlinecode donthyphenate notranslate">typecons</span></a></li><li>  <a href="std_typetuple.html" title="std.typetuple"><span class="d_inlinecode donthyphenate notranslate">typetuple</span></a></li><li>  <a href="std_uni.html" title="std.uni"><span class="d_inlinecode donthyphenate notranslate">uni</span></a></li><li>  <a href="std_uri.html" title="std.uri"><span class="d_inlinecode donthyphenate notranslate">uri</span></a></li><li>  <a href="std_utf.html" title="std.utf"><span class="d_inlinecode donthyphenate notranslate">utf</span></a></li><li>  <a href="std_uuid.html" title="std.uuid"><span class="d_inlinecode donthyphenate notranslate">uuid</span></a></li><li>  <a href="std_variant.html" title="std.variant"><span class="d_inlinecode donthyphenate notranslate">variant</span></a></li><li>  <a href="std_xml.html" title="std.xml"><span class="d_inlinecode donthyphenate notranslate">xml</span></a></li><li>  <a href="std_zip.html" title="std.zip"><span class="d_inlinecode donthyphenate notranslate">zip</span></a></li><li>  <a href="std_zlib.html" title="std.zlib"><span class="d_inlinecode donthyphenate notranslate">zlib</span></a>
</li></ul>
<li class='has-sub'><a href='#'><span><em class="tt">etc</em></span></a>
<ul><li>  <h7><span class="d_inlinecode donthyphenate notranslate">c</span></h7><ul><li>    <a href="etc_c_curl.html" title="etc.c.curl"><span class="d_inlinecode donthyphenate notranslate">curl</span></a></li><li>    <a href="etc_c_sqlite3.html" title="etc.c.sqlite3"><span class="d_inlinecode donthyphenate notranslate">sqlite3</span></a></li><li>    <a href="etc_c_zlib.html" title="etc.c.zlib"><span class="d_inlinecode donthyphenate notranslate">zlib</span></a>
  </li></ul>
</li></ul>
<li class='has-sub'><a href='#'><span><em class="tt">core</em></span></a>
<ul><li>  <a href="core_atomic.html" title="core.atomic"><span class="d_inlinecode donthyphenate notranslate">atomic</span></a></li><li>  <a href="core_bitop.html" title="core.bitop"><span class="d_inlinecode donthyphenate notranslate">bitop</span></a></li><li>  <a href="core_checkedint.html" title="core.checkedint"><span class="d_inlinecode donthyphenate notranslate">checkedint</span></a></li><li>  <a href="core_cpuid.html" title="core.cpuid"><span class="d_inlinecode donthyphenate notranslate">cpuid</span></a></li><li>  <a href="core_demangle.html" title="core.demangle"><span class="d_inlinecode donthyphenate notranslate">demangle</span></a></li><li>  <a href="core_exception.html" title="core.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>  <a href="core_math.html" title="core.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>  <a href="core_memory.html" title="core.memory"><span class="d_inlinecode donthyphenate notranslate">memory</span></a></li><li>  <a href="core_runtime.html" title="core.runtime"><span class="d_inlinecode donthyphenate notranslate">runtime</span></a></li><li>  <a href="core_simd.html" title="core.simd"><span class="d_inlinecode donthyphenate notranslate">simd</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">stdc</span></h7><ul><li>    <a href="core_stdc_complex.html" title="core.stdc.complex"><span class="d_inlinecode donthyphenate notranslate">complex</span></a></li><li>    <a href="core_stdc_ctype.html" title="core.stdc.ctype"><span class="d_inlinecode donthyphenate notranslate">ctype</span></a></li><li>    <a href="core_stdc_errno.html" title="core.stdc.errno"><span class="d_inlinecode donthyphenate notranslate">errno</span></a></li><li>    <a href="core_stdc_fenv.html" title="core.stdc.fenv"><span class="d_inlinecode donthyphenate notranslate">fenv</span></a></li><li>    <a href="core_stdc_float_.html" title="core.stdc.float_"><span class="d_inlinecode donthyphenate notranslate">float_</span></a></li><li>    <a href="core_stdc_inttypes.html" title="core.stdc.inttypes"><span class="d_inlinecode donthyphenate notranslate">inttypes</span></a></li><li>    <a href="core_stdc_limits.html" title="core.stdc.limits"><span class="d_inlinecode donthyphenate notranslate">limits</span></a></li><li>    <a href="core_stdc_locale.html" title="core.stdc.locale"><span class="d_inlinecode donthyphenate notranslate">locale</span></a></li><li>    <a href="core_stdc_math.html" title="core.stdc.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>    <a href="core_stdc_signal.html" title="core.stdc.signal"><span class="d_inlinecode donthyphenate notranslate">signal</span></a></li><li>    <a href="core_stdc_stdarg.html" title="core.stdc.stdarg"><span class="d_inlinecode donthyphenate notranslate">stdarg</span></a></li><li>    <a href="core_stdc_stddef.html" title="core.stdc.stddef"><span class="d_inlinecode donthyphenate notranslate">stddef</span></a></li><li>    <a href="core_stdc_stdint.html" title="core.stdc.stdint"><span class="d_inlinecode donthyphenate notranslate">stdint</span></a></li><li>    <a href="core_stdc_stdio.html" title="core.stdc.stdio"><span class="d_inlinecode donthyphenate notranslate">stdio</span></a></li><li>    <a href="core_stdc_stdlib.html" title="core.stdc.stdlib"><span class="d_inlinecode donthyphenate notranslate">stdlib</span></a></li><li>    <a href="core_stdc_string.html" title="core.stdc.string"><span class="d_inlinecode donthyphenate notranslate">string</span></a></li><li>    <a href="core_stdc_tgmath.html" title="core.stdc.tgmath"><span class="d_inlinecode donthyphenate notranslate">tgmath</span></a></li><li>    <a href="core_stdc_time.html" title="core.stdc.time"><span class="d_inlinecode donthyphenate notranslate">time</span></a></li><li>    <a href="core_stdc_wchar_.html" title="core.stdc.wchar_"><span class="d_inlinecode donthyphenate notranslate">wchar_</span></a></li><li>    <a href="core_stdc_wctype.html" title="core.stdc.wctype"><span class="d_inlinecode donthyphenate notranslate">wctype</span></a>
  </li></ul></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">sync</span></h7><ul><li>    <a href="core_sync_barrier.html" title="core.sync.barrier"><span class="d_inlinecode donthyphenate notranslate">barrier</span></a></li><li>    <a href="core_sync_condition.html" title="core.sync.condition"><span class="d_inlinecode donthyphenate notranslate">condition</span></a></li><li>    <a href="core_sync_config.html" title="core.sync.config"><span class="d_inlinecode donthyphenate notranslate">config</span></a></li><li>    <a href="core_sync_exception.html" title="core.sync.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>    <a href="core_sync_mutex.html" title="core.sync.mutex"><span class="d_inlinecode donthyphenate notranslate">mutex</span></a></li><li>    <a href="core_sync_rwmutex.html" title="core.sync.rwmutex"><span class="d_inlinecode donthyphenate notranslate">rwmutex</span></a></li><li>    <a href="core_sync_semaphore.html" title="core.sync.semaphore"><span class="d_inlinecode donthyphenate notranslate">semaphore</span></a>
  </li></ul></li><li>  <a href="core_thread.html" title="core.thread"><span class="d_inlinecode donthyphenate notranslate">thread</span></a></li><li>  <a href="core_time.html" title="core.time"><span class="d_inlinecode donthyphenate notranslate">time</span></a></li><li>  <a href="core_vararg.html" title="core.vararg"><span class="d_inlinecode donthyphenate notranslate">vararg</span></a>
</li></ul>
    <li><a href='http://code.dlang.org'><span>3rd Party Packages</span></a></li>
</ul></div>
</div>

<div class="hyphenate" id="content">    
<div id="tools">	<span class="tip">		<a href="https://github.com/D-Programming-Language/phobos/edit/master/std/utf.d" class="button">Improve this page</a>
		<span >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">		<a href="http://wiki.dlang.org/DocComments/Phobos/StdUtf" class="button">Page wiki</a>
		<span >			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>
    <h1>std.utf</h1>
    <div class="quickindex" id="quickindex"></div>
    <!--Generated by Ddoc from std/utf.d-->
<div class="summary">Encode and decode UTF-8, UTF-16 and UTF-32 strings.
</div>
<div class="description">UTF character support is restricted to
    <span class="d_inlinecode donthyphenate notranslate">'\u0000' &lt;= character &lt;= '\U0010FFFF'</span>.

</div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><a href="http://en.wikipedia.org/wiki/Unicode">Wikipedia</a><br>
        <a href="http://www.cl.cam.ac.uk/~mgk25/unicode.html#utf-8">http://www.cl.cam.ac.uk/~mgk25/unicode.html#utf-8</a><br>
        <a href="http://anubis.dkuug.dk/JTC1/SC2/WG2/docs/n1335">http://anubis.dkuug.dk/JTC1/SC2/WG2/docs/n1335</a>
</div></div>
<div class="keyval License"><span class="key keyLicense">License:</span> <div class="val valLicense"><a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.
</div></div>
<div class="keyval Authors"><span class="key keyAuthors">Authors:</span> <div class="val valAuthors"><a href="http://digitalmars.com">Walter Bright</a> and Jonathan M Davis
</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Source:</span>
<span class="phobos_src"><a class="https" href="https://github.com/D-Programming-Language/phobos/blob/master/std/utf.d">std/utf.d</a></span></div>

<dl><dt class="d_decl"><a name=".UTFException"></a><div class="quickindex" id="quickindex.UTFException"></div>class <a name="UTFException"></a><span class="ddoc_psymbol">UTFException</span>: <em class="u">object.Exception</em>;
</dt>
<dd><div class="summary">Exception thrown on errors in std.utf functions.</div>

</dd>
<dt class="d_decl"><a name=".isValidDchar"></a><div class="quickindex" id="quickindex.isValidDchar"></div>pure nothrow @nogc @safe bool <a name="isValidDchar"></a><span class="ddoc_psymbol">isValidDchar</span>(dchar <i>c</i>);
</dt>
<dd><div class="summary">Returns whether <span class="d_inlinecode donthyphenate notranslate"><i>c</i></span> is a valid UTF-32 character.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate">'\uFFFE'</span> and <span class="d_inlinecode donthyphenate notranslate">'\uFFFF'</span> are considered valid by <span class="d_inlinecode donthyphenate notranslate"><a name="isValidDchar"></a><span class="ddoc_psymbol">isValidDchar</span></span>,
    as they are permitted for internal use by an application, but they are
    not allowed for interchange by the Unicode standard.</div>

</dd>
<dt class="d_decl"><a name=".stride"></a><div class="quickindex" id="quickindex.stride"></div>uint <a name="stride"></a><span class="ddoc_psymbol">stride</span>(S)(auto ref S <i>str</i>, size_t <i>index</i>) if (is(S : const(char[])) || isRandomAccessRange!S &amp;&amp; is(Unqual!(ElementType!S) == char));
<br>uint <a name="stride"></a><span class="ddoc_psymbol">stride</span>(S)(auto ref S <i>str</i>) if (is(S : const(char[])) || isInputRange!S &amp;&amp; is(Unqual!(ElementType!S) == char));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> returns the length of the UTF-8 sequence starting at <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span>
    in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> works with both UTF-8 strings and ranges of <span class="d_inlinecode donthyphenate notranslate">char</span>. If no
    <i>index</i> is passed, then an input range will work, but if an <i>index</i> is passed,
    then a random-access range is required.
<p></p>

    <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> defaults to <span class="d_inlinecode donthyphenate notranslate">0</span> if none is passed.

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The number of bytes in the UTF-8 sequence, a value between 1 and 4
        (as per <a href="http://tools.ietf.org/html/rfc3629#section-3">RFC 3629, section 3</a>).

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">May throw a <span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> is not the start of a
        valid UTF-8 sequence.

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Notes:</span>
<span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> will only analyze the first <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> element. It
        will not fully verify the validity of UTF-8 sequence, nor even verify
        the presence of the sequence: it will not actually guarantee that
        <span class="d_inlinecode donthyphenate notranslate"><i>index</i> + <a name="stride"></a><span class="ddoc_psymbol">stride</span>(<i>str</i>, <i>index</i>) &lt;= <i>str</i>.length</span>.</div>

</dd>
<dt class="d_decl"><a name=".strideBack"></a><div class="quickindex" id="quickindex.strideBack"></div>uint <a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span>(S)(auto ref S <i>str</i>, size_t <i>index</i>) if (is(S : const(char[])) || isRandomAccessRange!S &amp;&amp; is(Unqual!(ElementType!S) == char));
<br>uint <a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span>(S)(auto ref S <i>str</i>) if (is(S : const(char[])) || isRandomAccessRange!S &amp;&amp; hasLength!S &amp;&amp; is(Unqual!(ElementType!S) == char));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> returns the length of the UTF-8 sequence ending one code
    unit before <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> works with both UTF-8 strings and bidirectional ranges of
    <span class="d_inlinecode donthyphenate notranslate">char</span>. If no <i>index</i> is passed, then a bidirectional range will work, but
    if an <i>index</i> is passed, then a random-access range is required.
<p></p>

    <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> defaults to <span class="d_inlinecode donthyphenate notranslate"><i>str</i>.length</span> if none is passed.

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The number of bytes in the UTF-8 sequence.

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">May throw a <span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> is not one past the
        end of a valid UTF-8 sequence.

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Notes:</span>
<span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> will not fully verify the validity of the UTF-8
        sequence. It will, however, guarantee that
        <span class="d_inlinecode donthyphenate notranslate"><i>index</i> - stride(<i>str</i>, <i>index</i>)</span> is a valid <i>index</i>.</div>

</dd>
<dt class="d_decl"><a name=".stride.2"></a><div class="quickindex" id="quickindex.stride.2"></div>uint <a name="stride"></a><span class="ddoc_psymbol">stride</span>(S)(auto ref S <i>str</i>, size_t <i>index</i>) if (is(S : const(wchar[])) || isRandomAccessRange!S &amp;&amp; is(Unqual!(ElementType!S) == wchar));
<br>pure @safe uint <a name="stride"></a><span class="ddoc_psymbol">stride</span>(S)(auto ref S <i>str</i>) if (is(S : const(wchar[])));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> returns the length of the UTF-16 sequence starting at <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span>
    in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> works with both UTF-16 strings and ranges of <span class="d_inlinecode donthyphenate notranslate">wchar</span>. If no
    <i>index</i> is passed, then an input range will work, but if an <i>index</i> is passed,
    then a random-access range is required.
<p></p>

    <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> defaults to <span class="d_inlinecode donthyphenate notranslate">0</span> if none is passed.

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The number of bytes in the UTF-16 sequence.

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">May throw a <span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> is not the start of a
        valid UTF-16 sequence.

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Notes:</span>
<span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> will only analyze the first <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> element. It
        will not fully verify the validity of UTF-16 sequence, nor even verify
        the presence of the sequence: it will not actually guarantee that
        <span class="d_inlinecode donthyphenate notranslate"><i>index</i> + <a name="stride"></a><span class="ddoc_psymbol">stride</span>(<i>str</i>, <i>index</i>) &lt;= <i>str</i>.length</span>.</div>

</dd>
<dt class="d_decl"><a name=".strideBack.2"></a><div class="quickindex" id="quickindex.strideBack.2"></div>uint <a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span>(S)(auto ref S <i>str</i>, size_t <i>index</i>) if (is(S : const(wchar[])) || isRandomAccessRange!S &amp;&amp; is(Unqual!(ElementType!S) == wchar));
<br>uint <a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span>(S)(auto ref S <i>str</i>) if (is(S : const(wchar[])) || isBidirectionalRange!S &amp;&amp; is(Unqual!(ElementType!S) == wchar));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> returns the length of the UTF-16 sequence ending one code
    unit before <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> works with both UTF-16 strings and ranges of <span class="d_inlinecode donthyphenate notranslate">wchar</span>. If
    no <i>index</i> is passed, then a bidirectional range will work, but if an <i>index</i> is
    passed, then a random-access range is required.
<p></p>

    <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> defaults to <span class="d_inlinecode donthyphenate notranslate"><i>str</i>.length</span> if none is passed.

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The number of bytes in the UTF-16 sequence.

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">May throw a <span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> is not one past the
        end of a valid UTF-16 sequence.

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Notes:</span>
<span class="d_inlinecode donthyphenate notranslate">stride</span> will only analyze the element at <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i> - 1]</span>
        element. It will not fully verify the validity of UTF-16 sequence, nor
        even verify the presence of the sequence: it will not actually
        guarantee that <span class="d_inlinecode donthyphenate notranslate">stride(<i>str</i>, <i>index</i>) &lt;= <i>index</i></span>.</div>

</dd>
<dt class="d_decl"><a name=".stride.3"></a><div class="quickindex" id="quickindex.stride.3"></div>uint <a name="stride"></a><span class="ddoc_psymbol">stride</span>(S)(auto ref S <i>str</i>, size_t <i>index</i> = 0) if (is(S : const(dchar[])) || isInputRange!S &amp;&amp; is(Unqual!(ElementEncodingType!S) == dchar));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> returns the length of the UTF-32 sequence starting at <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span>
    in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="stride"></a><span class="ddoc_psymbol">stride</span></span> works with both UTF-32 strings and ranges of <span class="d_inlinecode donthyphenate notranslate">dchar</span>.

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The number of bytes in the UTF-32 sequence (always <span class="d_inlinecode donthyphenate notranslate">1</span>).

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">Never.</div></div>

</dd>
<dt class="d_decl"><a name=".strideBack.3"></a><div class="quickindex" id="quickindex.strideBack.3"></div>uint <a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span>(S)(auto ref S <i>str</i>, size_t <i>index</i>) if (isRandomAccessRange!S &amp;&amp; is(Unqual!(ElementEncodingType!S) == dchar));
<br>uint <a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span>(S)(auto ref S <i>str</i>) if (isBidirectionalRange!S &amp;&amp; is(Unqual!(ElementEncodingType!S) == dchar));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> returns the length of the UTF-32 sequence ending one code
    unit before <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="strideBack"></a><span class="ddoc_psymbol">strideBack</span></span> works with both UTF-32 strings and ranges of <span class="d_inlinecode donthyphenate notranslate">dchar</span>. If
    no <i>index</i> is passed, then a bidirectional range will work, but if an <i>index</i> is
    passed, then a random-access range is required.
<p></p>

    <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> defaults to <span class="d_inlinecode donthyphenate notranslate"><i>str</i>.length</span> if none is passed.

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The number of bytes in the UTF-32 sequence (always <span class="d_inlinecode donthyphenate notranslate">1</span>).

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">Never.</div></div>

</dd>
<dt class="d_decl"><a name=".toUCSindex"></a><div class="quickindex" id="quickindex.toUCSindex"></div>pure @safe size_t <a name="toUCSindex"></a><span class="ddoc_psymbol">toUCSindex</span>(C)(const(C)[] <i>str</i>, size_t <i>index</i>) if (isSomeChar!C);
</dt>
<dd><div class="summary">Given <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> into <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span> and assuming that <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> is at the start
    of a UTF sequence, <span class="d_inlinecode donthyphenate notranslate"><a name="toUCSindex"></a><span class="ddoc_psymbol">toUCSindex</span></span> determines the number of UCS characters
    up to <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span>. So, <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> is the <i>index</i> of a code unit at the
    beginning of a code point, and the return value is how many code points into
    the string that that code point is.</div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`hello world`</span>, 7) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`hello world`w</span>, 7) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`hello world`d</span>, 7) == 7);

<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`Ma Chérie`</span>, 7) == 6);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`Ma Chérie`w</span>, 7) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`Ma Chérie`d</span>, 7) == 7);

<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`さいごの果実 / ミツバチと科学者`</span>, 9) == 3);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`さいごの果実 / ミツバチと科学者`w</span>, 9) == 9);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUCSindex</span>(<span class="d_string">`さいごの果実 / ミツバチと科学者`d</span>, 9) == 9);
</pre>
</div></div>
</dd>
<dt class="d_decl"><a name=".toUTFindex"></a><div class="quickindex" id="quickindex.toUTFindex"></div>pure @safe size_t <a name="toUTFindex"></a><span class="ddoc_psymbol">toUTFindex</span>(C)(const(C)[] <i>str</i>, size_t <i>n</i>) if (isSomeChar!C);
</dt>
<dd><div class="summary">Given a UCS index <span class="d_inlinecode donthyphenate notranslate"><i>n</i></span> into <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>, returns the UTF index.
    So, <span class="d_inlinecode donthyphenate notranslate"><i>n</i></span> is how many code points into the string the code point is, and
    the array index of the code unit is returned.</div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`hello world`</span>, 7) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`hello world`w</span>, 7) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`hello world`d</span>, 7) == 7);

<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`Ma Chérie`</span>, 6) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`Ma Chérie`w</span>, 7) == 7);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`Ma Chérie`d</span>, 7) == 7);

<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`さいごの果実 / ミツバチと科学者`</span>, 3) == 9);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`さいごの果実 / ミツバチと科学者`w</span>, 9) == 9);
<span class="d_keyword">assert</span>(<span class="d_psymbol">toUTFindex</span>(<span class="d_string">`さいごの果実 / ミツバチと科学者`d</span>, 9) == 9);
</pre>
</div></div>
</dd>
<dt class="d_decl"><a name=".decode"></a><div class="quickindex" id="quickindex.decode"></div>dchar <a name="decode"></a><span class="ddoc_psymbol">decode</span>(S)(auto ref S <i>str</i>, ref size_t <i>index</i>) if (!isSomeString!S &amp;&amp; isRandomAccessRange!S &amp;&amp; hasSlicing!S &amp;&amp; hasLength!S &amp;&amp; isSomeChar!(ElementType!S));
</dt>
<dd><div class="summary">Decodes and returns the code point starting at <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span>. <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span>
    is advanced to one past the decoded code point. If the code point is not
    well-formed, then a <span class="d_inlinecode donthyphenate notranslate">UTFException</span> is thrown and <span class="d_inlinecode donthyphenate notranslate"><i>index</i></span> remains
    unchanged.
</div>
<div class="description"><a name="decode"></a><span class="ddoc_psymbol">decode</span> will only work with strings and random access ranges of code units
    with length and slicing, whereas <a href="#decodeFront"><span class="d_inlinecode donthyphenate notranslate">decodeFront</span></a> will work with any
    input range of code units.

</div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows"><a href="#UTFException"><span class="d_inlinecode donthyphenate notranslate">UTFException</span></a> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i>[<i>index</i>]</span> is not the start of a valid UTF
        sequence.</div></div>

</dd>
<dt class="d_decl"><a name=".decodeFront"></a><div class="quickindex" id="quickindex.decodeFront"></div>dchar <a name="decodeFront"></a><span class="ddoc_psymbol">decodeFront</span>(S)(ref S <i>str</i>, out size_t <i>numCodeUnits</i>) if (!isSomeString!S &amp;&amp; isInputRange!S &amp;&amp; isSomeChar!(ElementType!S));
<br>dchar <a name="decodeFront"></a><span class="ddoc_psymbol">decodeFront</span>(S)(ref S <i>str</i>) if (isInputRange!S &amp;&amp; isSomeChar!(ElementType!S));
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="decodeFront"></a><span class="ddoc_psymbol">decodeFront</span></span> is a variant of <a href="#decode"><span class="d_inlinecode donthyphenate notranslate">decode</span></a> which specifically decodes
    the first code point. Unlike <a href="#decode"><span class="d_inlinecode donthyphenate notranslate">decode</span></a>, <span class="d_inlinecode donthyphenate notranslate"><a name="decodeFront"></a><span class="ddoc_psymbol">decodeFront</span></span> accepts any
    input range of code units (rather than just a string or random access
    range). It also takes the range by <span class="d_inlinecode donthyphenate notranslate">ref</span> and pops off the elements as it
    decodes them. If <span class="d_inlinecode donthyphenate notranslate"><i>numCodeUnits</i></span> is passed in, it gets set to the number
    of code units which were in the code point which was decoded.
</div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows"><a href="#UTFException"><span class="d_inlinecode donthyphenate notranslate">UTFException</span></a> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i>.front</span> is not the start of a valid UTF
        sequence. If an exception is thrown, then there is no guarantee as to
        the number of code units which were popped off, as it depends on the
        type of range being used and how many code units had to be popped off
        before the code point was determined to be invalid.</div></div>

</dd>
<dt class="d_decl"><a name=".encode"></a><div class="quickindex" id="quickindex.encode"></div>pure @safe size_t <a name="encode"></a><span class="ddoc_psymbol">encode</span>(ref char[4] <i>buf</i>, dchar <i>c</i>);
<br>pure @safe size_t <a name="encode"></a><span class="ddoc_psymbol">encode</span>(ref wchar[2] <i>buf</i>, dchar <i>c</i>);
</dt>
<dd><div class="summary">Encodes <span class="d_inlinecode donthyphenate notranslate"><i>c</i></span> into the static array, <span class="d_inlinecode donthyphenate notranslate"><i>buf</i></span>, and returns the actual
    length of the encoded character (a number between <span class="d_inlinecode donthyphenate notranslate">1</span> and <span class="d_inlinecode donthyphenate notranslate">4</span> for
    <span class="d_inlinecode donthyphenate notranslate">char[4]</span> buffers and a number between <span class="d_inlinecode donthyphenate notranslate">1</span> and <span class="d_inlinecode donthyphenate notranslate">2</span> for
    <span class="d_inlinecode donthyphenate notranslate">wchar[2]</span> buffers).
</div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows"><span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>c</i></span> is not a valid UTF code point.</div></div>

</dd>
<dt class="d_decl"><a name=".encode.2"></a><div class="quickindex" id="quickindex.encode.2"></div>pure @safe void <a name="encode"></a><span class="ddoc_psymbol">encode</span>(ref char[] <i>str</i>, dchar <i>c</i>);
<br>pure @safe void <a name="encode"></a><span class="ddoc_psymbol">encode</span>(ref wchar[] <i>str</i>, dchar <i>c</i>);
<br>pure @safe void <a name="encode"></a><span class="ddoc_psymbol">encode</span>(ref dchar[] <i>str</i>, dchar <i>c</i>);
</dt>
<dd><div class="summary">Encodes <span class="d_inlinecode donthyphenate notranslate"><i>c</i></span> in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>'s encoding and appends it to <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows"><span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>c</i></span> is not a valid UTF code point.</div></div>

</dd>
<dt class="d_decl"><a name=".codeLength"></a><div class="quickindex" id="quickindex.codeLength"></div>pure nothrow @nogc @safe ubyte <a name="codeLength"></a><span class="ddoc_psymbol">codeLength</span>(C)(dchar <i>c</i>) if (isSomeChar!C);
</dt>
<dd><div class="summary">Returns the number of code units that are required to encode the code point
    <span class="d_inlinecode donthyphenate notranslate"><i>c</i></span> when <span class="d_inlinecode donthyphenate notranslate">C</span> is the character type used to encode it.</div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">char</span>('a') == 1);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">wchar</span>('a') == 1);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">dchar</span>('a') == 1);

<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">char</span>('\U0010FFFF') == 4);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">wchar</span>('\U0010FFFF') == 2);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">dchar</span>('\U0010FFFF') == 1);
</pre>
</div></div>
</dd>
<dt class="d_decl"><a name=".codeLength.2"></a><div class="quickindex" id="quickindex.codeLength.2"></div>size_t <a name="codeLength"></a><span class="ddoc_psymbol">codeLength</span>(C, InputRange)(InputRange <i>input</i>) if (isInputRange!InputRange &amp;&amp; is(ElementType!InputRange : dchar));
</dt>
<dd><div class="summary">Returns the number of code units that are required to encode <span class="d_inlinecode donthyphenate notranslate">str</span>
    in a string whose character type is <span class="d_inlinecode donthyphenate notranslate">C</span>. This is particularly useful
    when slicing one string with the length of another and the two string
    types use different character types.</div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.conv : to;
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">char</span>(<span class="d_string">"hello world"</span>) ==
       to!string(<span class="d_string">"hello world"</span>).length);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">wchar</span>(<span class="d_string">"hello world"</span>) ==
       to!wstring(<span class="d_string">"hello world"</span>).length);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">dchar</span>(<span class="d_string">"hello world"</span>) ==
       to!dstring(<span class="d_string">"hello world"</span>).length);

<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">char</span>(<span class="d_string">`プログラミング`</span>) ==
       to!string(<span class="d_string">`プログラミング`</span>).length);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">wchar</span>(<span class="d_string">`プログラミング`</span>) ==
       to!wstring(<span class="d_string">`プログラミング`</span>).length);
<span class="d_keyword">assert</span>(<span class="d_psymbol">codeLength</span>!<span class="d_keyword">dchar</span>(<span class="d_string">`プログラミング`</span>) ==
       to!dstring(<span class="d_string">`プログラミング`</span>).length);

string haystack = <span class="d_string">`Être sans la verité, ça, ce ne serait pas bien.`</span>;
wstring needle = <span class="d_string">`Être sans la verité`</span>;
<span class="d_keyword">assert</span>(haystack[<span class="d_psymbol">codeLength</span>!<span class="d_keyword">char</span>(needle) .. $] ==
       <span class="d_string">`, ça, ce ne serait pas bien.`</span>);
</pre>
</div></div>
</dd>
<dt class="d_decl"><a name=".validate"></a><div class="quickindex" id="quickindex.validate"></div>pure @safe void <a name="validate"></a><span class="ddoc_psymbol">validate</span>(S)(in S <i>str</i>) if (isSomeString!S);
</dt>
<dd><div class="summary">Checks to see if <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span> is well-formed unicode or not.
</div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows"><span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span> is not well-formed.</div></div>

</dd>
<dt class="d_decl"><a name=".toUTF8"></a><div class="quickindex" id="quickindex.toUTF8"></div>pure @safe string <a name="toUTF8"></a><span class="ddoc_psymbol">toUTF8</span>(in char[] <i>s</i>);
<br>pure @trusted string <a name="toUTF8"></a><span class="ddoc_psymbol">toUTF8</span>(in wchar[] <i>s</i>);
<br>pure @trusted string <a name="toUTF8"></a><span class="ddoc_psymbol">toUTF8</span>(in dchar[] <i>s</i>);
</dt>
<dd><div class="summary">Encodes string <span class="d_param"><i>s</i></span> into UTF-8 and returns the encoded string.</div>

</dd>
<dt class="d_decl"><a name=".toUTF16"></a><div class="quickindex" id="quickindex.toUTF16"></div>pure @trusted wstring <a name="toUTF16"></a><span class="ddoc_psymbol">toUTF16</span>(in char[] <i>s</i>);
<br>pure @safe wstring <a name="toUTF16"></a><span class="ddoc_psymbol">toUTF16</span>(in wchar[] <i>s</i>);
<br>pure @trusted wstring <a name="toUTF16"></a><span class="ddoc_psymbol">toUTF16</span>(in dchar[] <i>s</i>);
</dt>
<dd><div class="summary">Encodes string <span class="d_inlinecode donthyphenate notranslate"><i>s</i></span> into UTF-16 and returns the encoded string.</div>

</dd>
<dt class="d_decl"><a name=".toUTF32"></a><div class="quickindex" id="quickindex.toUTF32"></div>pure @trusted dstring <a name="toUTF32"></a><span class="ddoc_psymbol">toUTF32</span>(in char[] <i>s</i>);
<br>pure @trusted dstring <a name="toUTF32"></a><span class="ddoc_psymbol">toUTF32</span>(in wchar[] <i>s</i>);
<br>pure @safe dstring <a name="toUTF32"></a><span class="ddoc_psymbol">toUTF32</span>(in dchar[] <i>s</i>);
</dt>
<dd><div class="summary">Encodes string <span class="d_param"><i>s</i></span> into UTF-32 and returns the encoded string.</div>

</dd>
<dt class="d_decl"><a name=".toUTFz"></a><div class="quickindex" id="quickindex.toUTFz"></div>template <a name="toUTFz"></a><span class="ddoc_psymbol">toUTFz</span>(P)</dt>
<dd><div class="summary">Returns a C-style zero-terminated string equivalent to <span class="d_inlinecode donthyphenate notranslate">str</span>. <span class="d_inlinecode donthyphenate notranslate">str</span>
    must not contain embedded <span class="d_inlinecode donthyphenate notranslate">'\0'</span>'s as any C function will treat the first
    <span class="d_inlinecode donthyphenate notranslate">'\0'</span> that it sees as the end of the string. If <span class="d_inlinecode donthyphenate notranslate">str.empty</span> is
    <span class="d_inlinecode donthyphenate notranslate"><b>true</b></span>, then a string containing only <span class="d_inlinecode donthyphenate notranslate">'\0'</span> is returned.
</div>
<div class="description"><span class="d_inlinecode donthyphenate notranslate"><a name="toUTFz"></a><span class="ddoc_psymbol">toUTFz</span></span> accepts any type of string and is templated on the type of
    character pointer that you wish to convert to. It will avoid allocating a
    new string if it can, but there's a decent chance that it will end up having
    to allocate a new string - particularly when dealing with character types
    other than <span class="d_inlinecode donthyphenate notranslate">char</span>.
<p></p>

    <span class="red">Warning 1:</span> If the result of <span class="d_inlinecode donthyphenate notranslate"><a name="toUTFz"></a><span class="ddoc_psymbol">toUTFz</span></span> equals <span class="d_inlinecode donthyphenate notranslate">str.ptr</span>, then if
    anything alters the character one past the end of <span class="d_inlinecode donthyphenate notranslate">str</span> (which is the
    <span class="d_inlinecode donthyphenate notranslate">'\0'</span> character terminating the string), then the string won't be
    zero-terminated anymore. The most likely scenarios for that are if you
    append to <span class="d_inlinecode donthyphenate notranslate">str</span> and no reallocation takes place or when <span class="d_inlinecode donthyphenate notranslate">str</span> is a
    slice of a larger array, and you alter the character in the larger array
    which is one character past the end of <span class="d_inlinecode donthyphenate notranslate">str</span>. Another case where it could
    occur would be if you had a mutable character array immediately after
    <span class="d_inlinecode donthyphenate notranslate">str</span> in memory (for example, if they're member variables in a
    user-defined type with one declared right after the other) and that
    character array happened to start with <span class="d_inlinecode donthyphenate notranslate">'\0'</span>. Such scenarios will never
    occur if you immediately use the zero-terminated string after calling
    <span class="d_inlinecode donthyphenate notranslate"><a name="toUTFz"></a><span class="ddoc_psymbol">toUTFz</span></span> and the C function using it doesn't keep a reference to it.
    Also, they are unlikely to occur even if you save the zero-terminated string
    (the cases above would be among the few examples of where it could happen).
    However, if you save the zero-terminate string and want to be absolutely
    certain that the string stays zero-terminated, then simply append a
    <span class="d_inlinecode donthyphenate notranslate">'\0'</span> to the string and use its <span class="d_inlinecode donthyphenate notranslate">ptr</span> property rather than calling
    <span class="d_inlinecode donthyphenate notranslate"><a name="toUTFz"></a><span class="ddoc_psymbol">toUTFz</span></span>.
<p></p>

    <span class="red">Warning 2:</span> When passing a character pointer to a C function, and the
    C function keeps it around for any reason, make sure that you keep a
    reference to it in your D code. Otherwise, it may go away during a garbage
    collection cycle and cause a nasty bug when the C code tries to use it.</div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">auto</span> p1 = <span class="d_psymbol">toUTFz</span>!(<span class="d_keyword">char</span>*)(<span class="d_string">"hello world"</span>);
<span class="d_keyword">auto</span> p2 = <span class="d_psymbol">toUTFz</span>!(<span class="d_keyword">const</span>(<span class="d_keyword">char</span>)*)(<span class="d_string">"hello world"</span>);
<span class="d_keyword">auto</span> p3 = <span class="d_psymbol">toUTFz</span>!(<span class="d_keyword">immutable</span>(<span class="d_keyword">char</span>)*)(<span class="d_string">"hello world"</span>);
<span class="d_keyword">auto</span> p4 = <span class="d_psymbol">toUTFz</span>!(<span class="d_keyword">char</span>*)(<span class="d_string">"hello world"d</span>);
<span class="d_keyword">auto</span> p5 = <span class="d_psymbol">toUTFz</span>!(<span class="d_keyword">const</span>(<span class="d_keyword">wchar</span>)*)(<span class="d_string">"hello world"</span>);
<span class="d_keyword">auto</span> p6 = <span class="d_psymbol">toUTFz</span>!(<span class="d_keyword">immutable</span>(<span class="d_keyword">dchar</span>)*)(<span class="d_string">"hello world"w</span>);
</pre>
</div></div>
</dd>
<dt class="d_decl"><a name=".toUTF16z"></a><div class="quickindex" id="quickindex.toUTF16z"></div>pure @safe const(wchar)* <a name="toUTF16z"></a><span class="ddoc_psymbol">toUTF16z</span>(C)(const(C)[] <i>str</i>) if (isSomeChar!C);
</dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="toUTF16z"></a><span class="ddoc_psymbol">toUTF16z</span></span> is a convenience function for <span class="d_inlinecode donthyphenate notranslate">toUTFz!(const(wchar)*)</span>.
</div>
<div class="description">Encodes string <span class="d_inlinecode donthyphenate notranslate">s</span> into UTF-16 and returns the encoded string.
    <span class="d_inlinecode donthyphenate notranslate"><a name="toUTF16z"></a><span class="ddoc_psymbol">toUTF16z</span></span> is suitable for calling the 'W' functions in the Win32 API
    that take an <span class="d_inlinecode donthyphenate notranslate">LPWSTR</span> or <span class="d_inlinecode donthyphenate notranslate">LPCWSTR</span> argument.</div>

</dd>
<dt class="d_decl"><a name=".count"></a><div class="quickindex" id="quickindex.count"></div>pure nothrow @nogc @trusted size_t <a name="count"></a><span class="ddoc_psymbol">count</span>(C)(const(C)[] <i>str</i>) if (isSomeChar!C);
</dt>
<dd><div class="summary">Returns the total number of code points encoded in <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span>.
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Supercedes:</span>
This function supercedes <a href="#toUCSindex"><span class="d_inlinecode donthyphenate notranslate">toUCSindex</span></a>.

</div>
<div class="keyval Standards"><span class="key keyStandards">Standards:</span> <div class="val valStandards">Unicode 5.0, ASCII, ISO-8859-1, WINDOWS-1252

</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows"><span class="d_inlinecode donthyphenate notranslate">UTFException</span> if <span class="d_inlinecode donthyphenate notranslate"><i>str</i></span> is not well-formed.</div></div>

</dd>
<dt class="d_decl"><a name=".replacementDchar"></a><div class="quickindex" id="quickindex.replacementDchar"></div>enum dchar <a name="replacementDchar"></a><span class="ddoc_psymbol">replacementDchar</span>;
</dt>
<dd><div class="summary">Inserted in place of invalid UTF sequences.
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">References:</span>
<a href="http://en.wikipedia.org/wiki/Replacement_character#Replacement_character">http://en.wikipedia.org/wiki/Replacement_character#Replacement_character</a></div>

</dd>
<dt class="d_decl"><a name=".byCodeUnit"></a><div class="quickindex" id="quickindex.byCodeUnit"></div>auto <a name="byCodeUnit"></a><span class="ddoc_psymbol">byCodeUnit</span>(R)(R <i>r</i>) if (isNarrowString!R);
<br>ref auto <a name="byCodeUnit"></a><span class="ddoc_psymbol">byCodeUnit</span>(R)(R <i>r</i>) if (!isNarrowString!R &amp;&amp; isInputRange!R &amp;&amp; isSomeChar!(ElementEncodingType!R));
</dt>
<dd><div class="summary">Iterate a range of char, wchar, or dchars by code unit.
</div>
<div class="description">The purpose is to bypass the special case decoding that
 <span class="libref"><a href="http://dlang.org/phobos/std_array.html#front"><span class="d_inlinecode donthyphenate notranslate">std.array.front</span></a></span> does to character arrays.
</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class=params><tr class="param"><td class="param_id">R <i>r</i></td>
<td class="param_desc">input range of characters, or array of characters</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">input range</div></div>

</dd>
<dt class="d_decl"><a name=".byChar"></a><div class="quickindex" id="quickindex.byChar"></div>auto <a name="byChar"></a><span class="ddoc_psymbol">byChar</span>(R)(R <i>r</i>) if (isNarrowString!R);
<br><a name=".byWchar"></a><div class="quickindex" id="quickindex.byWchar"></div>auto <a name="byWchar"></a><span class="ddoc_psymbol">byWchar</span>(R)(R <i>r</i>) if (isNarrowString!R);
<br><a name=".byDchar"></a><div class="quickindex" id="quickindex.byDchar"></div>auto <a name="byDchar"></a><span class="ddoc_psymbol">byDchar</span>(R)(R <i>r</i>) if (isNarrowString!R);
<br><a name=".byChar.2"></a><div class="quickindex" id="quickindex.byChar.2"></div>ref auto <a name="byChar"></a><span class="ddoc_psymbol">byChar</span>(R)(R <i>r</i>) if (!isNarrowString!R &amp;&amp; isInputRange!R &amp;&amp; isSomeChar!(ElementEncodingType!R));
<br><a name=".byWchar.2"></a><div class="quickindex" id="quickindex.byWchar.2"></div>ref auto <a name="byWchar"></a><span class="ddoc_psymbol">byWchar</span>(R)(R <i>r</i>) if (!isNarrowString!R &amp;&amp; isInputRange!R &amp;&amp; isSomeChar!(ElementEncodingType!R));
<br><a name=".byDchar.2"></a><div class="quickindex" id="quickindex.byDchar.2"></div>ref auto <a name="byDchar"></a><span class="ddoc_psymbol">byDchar</span>(R)(R <i>r</i>) if (!isNarrowString!R &amp;&amp; isInputRange!R &amp;&amp; isSomeChar!(ElementEncodingType!R));
</dt>
<dd><div class="summary">Iterate an input range of characters by char, wchar, or dchar.
</div>
<div class="description">UTF sequences that cannot be converted to UTF-8 are replaced by U+FFFD
 per "5.22 Best Practice for U+FFFD Substitution" of the Unicode Standard 6.2.
 Hence, <a name="byChar"></a><span class="ddoc_psymbol">byChar</span>, <a name="byWchar"></a><span class="ddoc_psymbol">byWchar</span>, and <a name="byDchar"></a><span class="ddoc_psymbol">byDchar</span> are not symmetric.
 This algorithm is lazy, and does not allocate memory.
 Purity, nothrow, and safety are inferred from the <i>r</i> parameter.
</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class=params><tr class="param"><td class="param_id">R <i>r</i></td>
<td class="param_desc">input range of characters, or array of characters</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">input range</div></div>

</dd>
</dl>

</div>
<div id="copyright">Copyright Digital Mars 2000 - 2012.
 | Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a> on Fri May 29 12:00:31 2015
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('<script src="../js/jquery-1.7.2.min.js">\x3C/script>')</script>
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>
    <script type="text/javascript" src="../js/cssmenu.js"></script>

<script type="text/javascript" src="../js/listanchors.js"></script>
<script type="text/javascript">jQuery(document).ready(listanchors);</script>
</body>
</html>
